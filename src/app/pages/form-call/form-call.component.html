<div class="container mx-auto col-12 col-lg-8">

    <div class="card">
        <img src="../assets/logo_telzir.png" class="card-img-top" alt="...">
        <div class="card-body">

            <form #f="ngForm" (ngSubmit)="onSubmit()">

                <div class="form-group">
                    <label for="source"> Origem</label>
                    <select class="form-control" [(ngModel)]="call.source" #source="ngModel" name="source" id="source" 
                    [class.is-invalid]="!source.valid && source.touched" required>
                        <option [ngValue]="undefined" disabled>Selecione</option>
                        <option value="1">011</option>
                        <option value="2">016</option>
                        <option value="3">017</option>
                        <option value="4">018</option>
                    </select>
                    <div *ngIf="!source.valid && source.touched" class="text-danger">
                        Selecione a origem.
                    </div>
                </div>

                <div class="form-group">
                    <label for="destiny"> Destino</label>
                    <select class="form-control" [(ngModel)]="call.destiny" #destiny="ngModel" name="destiny" id="destiny"
                    [disabled]="!source.valid" [class.is-invalid]="!destiny.valid && destiny.touched" required>
                        <option [ngValue]="undefined" disabled>Selecione</option>
                        <option>011</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                    <div *ngIf="!destiny.valid && destiny.touched" class="text-danger">
                        Selecione o destino.
                    </div>
                </div>

                <div class="form-group">
                    <label for="time">Tempo</label>
                    <input type="number" class="form-control" [(ngModel)]="call.time" #time="ngModel" name="time" id="time" 
                    [class.is-invalid]="!time.valid && time.touched" required>
                    <div *ngIf="!time.valid && time.touched" class="text-danger">
                        Informe o tempo.
                    </div>
                </div>

                <div class="form-group">
                    <label for="plan"> Plano</label>
                    <select class="form-control" [(ngModel)]="call.plan" #plan="ngModel" name="plan" id="plan"
                    [class.is-invalid]="!plan.valid && plan.touched" required>
                        <option [ngValue]="undefined" disabled>Selecione</option>
                        <option *ngFor="let p of plans" name="p.id" [value]="p.id">{{p.name}}</option>
                    </select>
                    <div *ngIf="!plan.valid && plan.touched" class="text-danger">
                        Selecione o plano.
                    </div>
                </div>

                <button type="submit" [disabled]="!f.valid" class="btn btn-primary">
                    CALCULAR
                </button>

            </form>

        </div>
    </div>

</div>